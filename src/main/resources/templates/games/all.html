<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="fragments/head"></head>


<header th:replace="fragments/header"></header>

<!--
<section class="card">

    <div class=“d-flex flex-row flex-sm-wrap align-items-center bd-highlight mb-5”>
        <div class="card" style="width: 18rem;" th:each="game: ${games}">
            <div class="card-body">

               <img class="card-image-top" alt="cover" th:src="${game.coverImage}">

                <ul class="list-group list-group-flush">
                <li class="list-group-item" th:text="${game.title}"></li>
                <li class="list-group-item" th:text="${game.category}"></li>
                <li class="list-group-item" th:text="${game.pegi}"></li>
                <li class="list-group-item" th:text="${game.price}"></li>
                 </ul>
            </div>


            <div class="buttons">
                <a class="btn btn-success btn-sm" th:href="'/games/'+${game.id} + '/edit'">Edit</a>
                <a class="btn btn-danger btn-sm" th:href="'/games/'+${game.id} + '/delete'">Delete</a>
            </div>
        </div>
    </div>
</section> -->

<section class="container">
    <ul class="game-filters">
        <li><a href="/games/">All</a></li>
        <li th:each="category: ${categories}">
            <a th:href="${'/games?category='+category.name}"
               th:text="${category.name}">
            </a>
        </li>
    </ul>
</section>
<section class="container2">
    <ul class="game-filters">
        <li><a href="/games/">All</a></li>
        <li th:each="pegi: ${pegies}">
            <a th:href="${'/games?pegi='+pegi.name}"
               th:text="${pegi.name}">
            </a>
        </li>
    </ul>
</section>
<section class="card">
    <!--<table class="table table-dark table-striped">
     <thead>
     <tr>

         <th scope="col">Id</th>
         <th scope="col">Title</th>
         <th scope="col">Category</th>
         <th scope="col">Pegi</th>
         <th scope="col">Price</th>
         <th scope="col">Edit</th>
         <th scope="col">Delete</th>
         <th scope="col"><a class="btn btn-dark btn-sm"  href="/games/new"+${game.id}>+</a></th>

     </tr>
     </thead>
     <tbody>

     <img class="card-img-top" href="https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.fnac.es%2Fn127491%2FPlaystation%2FVideojuegos-PS5&psig=AOvVaw1kOfos7Q_Sdo3KObpAfT84&ust=1642165522809000&source=images&cd=vfe&ved=0CAsQjRxqFwoTCPC31LrlrvUCFQAAAAAdAAAAABAD"alt="Card image cap">
       <div class="card-body" th:each="game: ${games}">
         <th scope="row" th:text="${game.id}"></th>
         <td  class="list-group list-group-flush" th:text="${game.title}"></td>
         <td th:text="${game.category}"></td>
         <td th:text="${game.pegi}"></td>
         <td th:text="${game.price}+'€'" ></td>
         <td><a class="btn btn-success btn-sm" th:href="'/games/edit/'+${game.id}">Edit</a></td>
         <td><a class="btn btn-danger btn-sm" th:href="'/games/delete/'+${game.id}">Delete</a></td>
         <td ></td>

     </div>
     </tbody>
 </table>-->

    <div class="d-inline-flex" sec:authorize="isAnonymous()">
        <div th:each="game: ${games}" class="card border-0 " style="width: 18rem;">
            <img th:src="${game.coverImage}" class="card-img-top"
                 alt="Card image cap">
            <div class="shadow bg-dark text-white card-body ">
                <h5 th:text="${game.title}" class="card-title"></h5>
                <p class="card-text">Some quick example text to build on the card title and make up the bulk of the
                    card's content.</p>
                <h6 th:text="${game.category}"></h6>
                <h6 th:text="${game.pegi}+'+'"></h6>
                <h6 th:text="${game.price}+'€'"></h6>

            </div>
        </div>
    </div>

</section>

<section>


    <table class="table table-dark table-striped" sec:authorize="isAuthenticated()">
        <thead>
        <tr>

            <th scope="col">Id</th>
            <th scope="col">Title</th>
            <th scope="col">Category</th>
            <th scope="col">Pegi</th>
            <th scope="col">Price</th>
            <th scope="col">Edit</th>
            <th scope="col">Delete</th>


        </tr>
        </thead>
        <tbody class="card-body" th:each="game: ${games}">

        <tr>
        <th scope="row" th:text="${game.id}"></th>
        <td  th:text="${game.title}"></td>
        <td  th:text="${game.category}"></td>
        <td  th:text="${game.pegi}"></td>
        <td  th:text="${game.price}+'€'"></td>

        <td><a class="btn btn-success btn-sm"  th:href="'/games/edit/'+${game.id}">Edit</a>
        </td>
        <td><a class="btn btn-danger btn-sm"
               th:href="'/games/delete/'+${game.id}">Delete</a></td>

        </tr>

        </tbody>
    </table>
    <footer th:replace="fragments/footer"></footer>


</section>
</body>
</html>
